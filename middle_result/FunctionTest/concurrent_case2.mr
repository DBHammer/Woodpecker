3,3:Connection conn=get_conn[master]
4,3:Connection conn1=get_conn[master]
5,3:Connection conn2=get_conn[master]
6,3:Connection conn3=get_conn[master]
7,3:Statement stmt=get_stat[conn]
8,3:Statement stmt1=get_stat[conn1]
9,3:Statement stmt2=get_stat[conn2]
10,3:Statement stmt3=get_stat[conn3]
12,1:sql["drop table if exists t1,t2,t3,t4";stmt]
13,1:sql["create table t1(pk int primary key, a int)";stmt]
14,1:sql["insert into t1 values(1,1)";stmt]
15,1:sql["insert into t1 values(2,1)";stmt]
18,1:tx[conn1;start]
19,1:sql["delete from t1 where pk=1";stmt1]
20,3:ResultSet rs0=sql["select * from t1";stmt1]
22,1:tx[conn2;start]
23,1:sql["delete from t1 where pk=2";stmt2]
24,3:ResultSet rs1=sql["select * from t1";stmt2]
26,1:tx[conn1;commit]
27,1:tx[conn2;commit]
29,3:ResultSet rs2=sql["select count(*) from t1";stmt]
30,1:sql["insert into t1 values(1,1),(2,1)";stmt]
32,1:tx[conn1;start]
33,1:sql["delete from t1 where pk=1";stmt1]
35,1:tx[conn2;start]
37,1:sql["delete from t1 where pk=2";stmt2]
38,1:tx[conn2;rollback]
40,1:tx[conn1;commit]
41,3:ResultSet rs3=sql["select * from t1";stmt]
43,1:sql["insert into t1 values(1,1)";stmt]
45,1:tx[conn1;start]
46,1:sql["delete from t1 where pk=1";stmt1]
48,3:ResultSet rs4=sql["select * from t1";stmt]
49,1:tx[conn1;commit]
51,3:ResultSet rs5=sql["select * from t1";stmt]
53,1:tx[conn2;start]
55,1:sql["delete from t1 where pk=1";stmt2]
56,1:tx[conn2;commit]
58,3:ResultSet rs6=sql["select * from t1";stmt]
60,1:sql["drop table t1";stmt]
62,1:sql["create table t1(pk int primary key, a int)";stmt]
64,1:sql["insert into t1 values(1,1),(2,1),(3,1),(4,1)";stmt]
66,1:tx[conn1;start]
67,1:sql["delete from t1 where pk=1";stmt1]
68,1:sql["delete from t1 where pk=2";stmt1]
70,1:tx[conn2;start]
71,1:sql["delete from t1 where pk=3";stmt2]
72,1:sql["delete from t1 where pk=4";stmt2]
75,1:tx[conn2;rollback]
77,1:tx[conn3;start]
78,3:ResultSet rs7=sql["select * from t1";stmt3]
80,1:tx[conn1;commit]
83,3:ResultSet rs8=sql["select * from t1";stmt3]
86,0:IdealResultSet<int,int> irs0
87,0:IdealResultSet<int,int> irs1
88,0:IdealResultSet<int> irs2
89,0:IdealResultSet<int,int> irs3
90,0:IdealResultSet<int,int> irs4
91,0:IdealResultSet<int,int> irs5
92,0:IdealResultSet<int,int> irs6
93,0:IdealResultSet<int,int> irs7
94,0:IdealResultSet<int,int> irs8
96,1:import_irs["concurrent_case2"][irs0 0,irs1 1,irs2 2,irs3 3,irs4 4,irs5 5,irs6 6,irs7 7,irs8 8]
98,1:verify[rs0;==;irs0]
99,1:verify[rs1;==;irs1]
100,1:verify[rs2;==;irs2]
101,1:verify[rs3;==;irs3]
102,1:verify[rs4;==;irs4]
103,1:verify[rs5;==;irs5]
104,1:verify[rs6;==;irs6]
105,1:verify[rs7;==;irs7]
106,1:verify[rs8;==;irs8]
